{{ define "main" }}

<article itemscope itemType="https://schema.org/BlogPosting">
    <header>
        <h1>{{ .Title }}</h1>
        <section class="meta">
            {{ $dataFormat := .Site.Params.dateFormat | default "2006-01-02" }}
            <span>Published:  <time datetime="{{ .Date }}" itemprop="datePublished">{{ .Date.Format $dataFormat }}</time></span>
            {{ if (and .Site.Params.showUpdated (ne .Lastmod .Date)) }}
            <span>(Updated: <time datetime="{{ .Lastmod }}" itemprop="dateModified">{{ .Lastmod.Format $dataFormat }}</time>)</span>
            {{ end }}

            {{ with (.GetTerms "tags") }}
            <ul class="tags">
                {{ range . }}
                <li class="tag">
                    <span class="prefix">#</span>
                    <a href="{{ .Permalink }}" title="{{ .LinkTitle }}">{{ .LinkTitle }}</a>
                </li>
                {{ end }}
            </ul>
            {{ end }}
        </section>
    </header>

    <main itemprop="articleBody" class="md">

    {{ with .Resources.ByType "image" }}
    {{ range . }}
        {{ $image := .Fit "1024x1024" }}
        <figure>
            <img src="{{ $image.RelPermalink }}" alt="{{ $.Description }}">
            <figcaption>{{ $.Description }}</figcaption>
        </figure>
    {{ end }}

    </main>

    <footer>
    </footer>
</article>
{{- end }}

{{ end }}
